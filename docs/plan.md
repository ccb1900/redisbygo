# 计划
1. 协议解析，管道流水线
2. 命令解析，调用对应命令，内存存储结构（支持集群，支持哨兵），事务
3. 持久化（写入和重新载入）
4. 弱网条件

## 问题

redis服务器启动后，都是通过命令进行交互的。

读取命令，解析命令，做出响应，这个流程是怎么样的。

数据是如何存储的?面向用户的可感知的是kv形式的，这个kv是如何表示的，k是sds字符串，
v可以是各种内容，可以是列表，可以是哈希等等。
这个在内部是如何表示的。

各种数据结构，可以看看aof是如何存储的。

最简单的字符串是如何保存的。

首先进行一个完整的流程，在考虑别的方面是如何实现的。